global
    maxconn 10000
    log stdout format raw local0

defaults
    mode tcp
    timeout connect 5s
    timeout client 30s
    timeout server 30s
    log global

frontend redis_frontend
    bind *:6379
    default_backend redis_cluster

backend redis_cluster
    balance roundrobin
    option tcp-check
    tcp-check send PING\r\n
    tcp-check expect string +PONG
    
    server redis-node-1 redis-node-1:6379 check inter 2s
    server redis-node-2 redis-node-2:6379 check inter 2s
    server redis-node-3 redis-node-3:6379 check inter 2s
